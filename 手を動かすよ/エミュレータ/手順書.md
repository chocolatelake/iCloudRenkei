# iPhoneエミュレータ環境構築手順書（万能・実用構成）

中古屋（ハードオフ等）で購入したカセットを吸い出し、iPhone上のDeltaで遊ぶためのワークフロー。

## 1. 機材調達リスト

おしゃれさよりも「対応機種の多さ」を最優先した構成です。

### A. レトロゲーム全般用（GB/GBA/SFC/64/MD）
**ターゲット:** Open Source Cartridge Reader (通称: Cart Reader / OSCR)
- [ ] **Cart Reader本体**
  - 購入先: 「Save the Hero Builders」や「家電のケンちゃん」等の同人ハード取扱店。
  - 価格目安: 20,000円〜30,000円（完成品）
  - 特徴: 基板むき出しだが、これ1台で主要レトロハードを網羅可能。
- [ ] **microSDカード (32GB程度)**
  - 用途: Cart Readerのファームウェア用および一時保存用。
- [ ] **USBケーブル**
  - 用途: Mac miniとの接続および電源供給用。

### B. DS/3DS用
**ターゲット:** 中古のニンテンドー3DS または 2DS
- [ ] **本体**
  - 購入先: ハードオフ、ブックオフのジャンクコーナー等。
  - 条件: 動作すればボロボロでもOK。New 3DSでも旧型でも可。
- [ ] **SDカード (32GB以上推奨)**
  - 用途: 改造ツール(CFW)の導入と、吸い出したROMデータの保存用。

### C. プレイ環境
- [ ] **iPhoneアプリ: Delta - Game Emulator**
  - 入手: App Store（無料）
  - 対応: NES, SNES, N64, GB, GBC, GBA, DS, GEN

---

## 2. 環境構築（セットアップ）

### A. Cart Readerの準備
1. Cart Reader公式サイト等の手順に従い、付属のmicroSDにファームウェアを入れる。
2. Mac miniとUSB接続し、電源が入ることを確認する。

### B. 3DSの改造（CFW導入）
※ここが一番の難所ですが、1回やれば終わりです。
1. **「3ds hacks guide」** で検索し、手順に従ってCFW（Custom Firmware）を導入する。
2. 必須ツール **「GodMode9」** が起動できる状態にする。
   - GodMode9 = 3DSを「最強の吸い出し機」にするツール。

---

## 3. 吸い出しワークフロー（運用）

中古屋から帰宅後のルーティンです。

### ケース1: GB / GBA / SFC / 64 / メガドラの場合
1. **セット:** Cart Readerのスロットに対応するカセットを差す。
2. **操作:** Cart Readerの画面メニューから「Read ROM」を選択。
3. **保存:** 吸い出し完了後、microSDをMac miniに読み込む（またはUSB経由で転送）。
   - ファイル拡張子例: `.gb`, `.gba`, `.sfc`, `.z64`

### ケース2: ニンテンドーDS / 3DSの場合
1. **セット:** 改造済み3DSにカセットを差す。
2. **起動:** STARTボタンを押しながら電源ON → 「GodMode9」を起動。
3. **操作:** - `[C:] GAMECART` を選択。
   - `.nds` (DS用) または `.3ds` (3DS用) ファイルを選択。
   - `Copy to 0:/gm9/out` を実行。
4. **保存:** 電源を切り、SDカードを抜いてMac miniに読み込む。
   - ファイル場所: `gm9/out` フォルダ内

---

## 4. iPhoneへの転送とプレイ

1. **転送:** Mac miniにある吸い出したファイル（ROM）を、AirDropでiPhoneに送信。
2. **インポート:** - iPhoneで受け取った際、「Deltaで開く」を選択。
   - または、iCloud Drive経由でDeltaアプリ内の「＋」ボタンから追加。
3. **プレイ:**
   - アートワーク（ジャケット画像）はDeltaが自動で取得してくれる。
   - セーブデータはiPhone内に保存される（オートセーブ対応）。

---

## 補足
- **3DSソフトについて:** Deltaは現在「3DS」には非対応です（DSまで対応）。吸い出した `.3ds` ファイルは、Mac上のエミュレータ（Citra等）で遊ぶか、将来のiPhone対応を待ちます。
- **Biosについて:** DSを遊ぶ際、Deltaアプリ内で「Biosファイル（firmware.bin等）」を要求される場合があります。これも改造済み3DS（GodMode9）を使って実機から吸い出すことが可能です。
